<html>
    <head>
        <meta charset="utf-8">
        <title>Kissimirrit Search Engine</title>
      <style>
          .results {
             display: flex;
          }
          h1 {
             text-align: center;
             font-family: geneva;
             font-size: 45px;
             padding: 15px;
             text-shadow: 2px 3px lightgrey;
          }
          input[type=text], select {
             width: 70%;
             padding: 12px 20px;
             margin: 8px 0;
             display: inline-block;
             border-radius: 4px;
             box-sizing: border-box;
          }
          input[type=submit] {
             width: 25%;
             background-color: thistle;
             color: black;
             padding: 14px 20px;
             margin: 8px 0;
             border: none;
             border-radius: 4px;
             cursor: pointer;
          }
          input[type=submit]:hover {
             background-color: plum;
          }
          .dropbtn {
             background-color: thistle;
             color: black;
             padding: 14px 20px;
             border: none;
             border-radius: 4px;
             cursor: pointer;
          }
         .dropdown {
            display: inline-block;
          }
          .dropdown-content {
             display: none;
             box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
          }
          .dropdown-content a:hover {background-color: #f1f1f1;}
          .dropdown:hover .dropdown-content {display: block;}
          .dropbtn:hover {background-color: plum;}

          .query {
             width: 50%;
             margin: 0 auto;
             padding: 30px;
          }
          .tweets {
           flex:50%;
           margin: 10px;
           border-radius: 15px;
           padding: 10px;
           box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
           font-family: verdana;
           animation: change 3s;
           animation-fill-mode: forwards;    
          }
          @keyframes change {
           from {background-color: white; color: white;}
           to {background-color: thistle; color: black;}
          }
          .plots {
           flex:50%;
           margin: 10px;
           border-radius: 15px;
           padding: 10px;
           box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
          }
          .error {
          width: 100%;
          margin: 0 auto;
          text-align: center;
          }
      </style>
    </head>
    <body>
       <h1>Language: {{ selected_language }}</h1>
        <h1><i>Search Tweets  </i><img id="birdImage" src="{{ full_filename_png }}" alt="a bird image" width="30" height="30"></h1>
         <!--Reload the page with variable "query" in the URL-->
         <div class="query">
        <form>
         <input type="text" name="query" placeholder="Type your query here..." autofocus>
         <input type="submit" value="Search" onclick="animation(1)">
       </form>
        <div class="dropdown">
               <form method="POST"  action="/select_language">
                  <button class="dropbtn">Languages</button>
                   <div class="dropdown-content">
                     <select id="language" name="selected_lang" onchange="this.form.submit()">
                     {% for lang in languages %}
                        <option value="{{ lang }}">{{lang}}</option>
                     {% endfor %}
                     </select>
                  </form>
                   </div>
                  </div>
         </div>
           {% if error %}
           <div class="error">
           <p> {{ error }}</p>
           </div>
          {% endif %}
          {% if words_known %}
        <div class="results">
          <div class="tweets">
           <table>
            <!--Go through each item in the "matches" variable sent from
                search() function in the Flask app-->
             <tr>
                {% if matches %}
                {% for item in matches  %}
                <td>{{ item }}</td>
            </tr>
            <!--End for loop-->
            {% endfor %}
              {% endif %}
          </table>
         </div>
        <div class="plots">
      <table>
      <td>
    <img src="/test.png"  alt="Plot with scores and names">
          {% if plot_2 %}
            <img src="/test2.png" alt="Theme plot with scores and names">
          {% endif %}
     </td>
      </table>
      </div>
      {% endif %}
      </div>
    <script>
    function animation(on_off) {
       var image;
       if (on_off == 0) {
           image = "{{ full_filename_png }}"
       } else {
           image = "{{ full_filename_gif }}"
       }
       document.getElementById('birdImage').src = image;
    }
    </script>
    </body>
</html>



